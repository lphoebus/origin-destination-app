import{L as O,p as Y,c as Z,s as v,B as $,x as C,Q as p,i as j,b as B}from"./index-C2z3vZ9k.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function H(a,t,i){const s=t[0]-a[0],h=i[0]-t[0],o=t[1]-a[1],c=i[1]-t[1],r=o/(s||h<0&&0),n=c/(h||s<0&&0),e=(r*h+n*s)/(s+h);return(Math.sign(r)+Math.sign(n))*Math.min(Math.abs(r),Math.abs(n),.5*Math.abs(e))||0}function P(a,t,i){const s=t[0]-a[0],h=t[1]-a[1];return s?(3*h/s-i)/2:i}function X(a,t,i,s,h){const[o,c]=a,[r,n]=t,e=(r-o)/3,l=h([o+e,c+e*i]).join(","),g=h([r-e,n-e*s]).join(","),d=h([r,n]).join(",");return`C ${l} ${g} ${d}`}function A({width:a,height:t,min:i,max:s}){const h=s[0]-i[0],o=s[1]-i[1];return c=>{const r=(c[0]-i[0])/h*a,n=t-(c[1]-i[1])/o*t;return[r,n]}}function E(a){const[t,i]=a[0],s=[t,i],h=[t,i];return a.reduce(({min:o,max:c},[r,n])=>({min:[Math.min(o[0],r),Math.min(o[1],n)],max:[Math.max(c[0],r),Math.max(c[1],n)]}),{min:s,max:h})}function I({data:a,min:t,max:i,t:s}){if(a.length===0)return"";const[h,o]=s(a[0]),[c,r]=s(t),[n]=s(i);let e,l,g;const d=a.reduce((x,b,m)=>{if(l=a[m-2],g=a[m-1],m>1){const u=H(l,g,b),M=e===void 0?P(l,g,u):e,w=X(l,g,M,u,s);return e=u,`${x} ${w}`}return x},`M ${c},${r} L ${c},${o} L ${h},${o}`),k=a[a.length-1],f=X(g,k,e,P(g,k,e),s);return`${d} ${f} L ${n},${r} Z`}const R=j`:host{display:block;block-size:100%}.svg{fill:currentColor;stroke:transparent;margin:0;display:block;block-size:100%;inline-size:100%;padding:0}.svg .graph-path--highlight{fill:var(--calcite-graph-highlight-fill-color, var(--calcite-color-brand));opacity:.5}:host([hidden]){display:none}[hidden]{display:none}`,y={svg:"svg",graphPath:"graph-path",graphPathHighlight:"graph-path--highlight"},L=class L extends O{constructor(){super(...arguments),this.graphId=`calcite-graph-${Y()}`,this.resizeObserver=Z("resize",()=>this.requestUpdate()),this.data=[]}connectedCallback(){var t;super.connectedCallback(),(t=this.resizeObserver)==null||t.observe(this.el)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.resizeObserver)==null||t.disconnect()}render(){const{data:t,colorStops:i,el:s,highlightMax:h,highlightMin:o,min:c,max:r}=this,n=this.graphId,{clientHeight:e,clientWidth:l}=s;if(!t||t.length===0)return C`<svg aria-hidden=true class=${v(y.svg)} height=${e??$} preserveAspectRatio=none viewBox=${`0 0 ${l} ${e}`} width=${l??$}></svg>`;const{min:g,max:d}=E(t);let k=g,f=d;(c<g[0]||c>g[0])&&(k=[c,0]),(r>d[0]||r<d[0])&&(f=[r,d[1]]);const x=A({min:k,max:f,width:l,height:e}),[b]=x([o,f[1]]),[m]=x([h,f[1]]),u=I({data:t,min:g,max:d,t:x}),M=i?`url(#linear-gradient-${n})`:void 0;return C`<svg aria-hidden=true class=${v(y.svg)} height=${e??$} preserveAspectRatio=none viewBox=${`0 0 ${l} ${e}`} width=${l??$}>${i?p`<defs><linearGradient .id=${`linear-gradient-${n}`} x1=0 x2=1 y1=0 y2=0>${i.map(({offset:w,color:S,opacity:N})=>p`<stop offset=${`${w*100}%`} stop-color=${S??$} stop-opacity=${N??$} />`)}</linearGradient></defs>`:null}${o!==void 0?[p`<mask height=100% .id=${`${n}1`} width=100% x=0% y=0%><path d=${`
            M 0,0
            L ${b-1},0
            L ${b-1},${e}
            L 0,${e}
            Z
          `} fill=white /></mask>`,p`<mask height=100% .id=${`${n}2`} width=100% x=0% y=0%><path d=${`
            M ${b+1},0
            L ${m-1},0
            L ${m-1},${e}
            L ${b+1}, ${e}
            Z
          `} fill=white /></mask>`,p`<mask height=100% .id=${`${n}3`} width=100% x=0% y=0%><path d=${`
                M ${m+1},0
                L ${l},0
                L ${l},${e}
                L ${m+1}, ${e}
                Z
              `} fill=white /></mask>`,p`<path class=${v(y.graphPath)} d=${u??$} fill=${M??$} mask=${`url(#${n}1)`} />`,p`<path class=${v(y.graphPathHighlight)} d=${u??$} fill=${M??$} mask=${`url(#${n}2)`} />`,p`<path class=${v(y.graphPath)} d=${u??$} fill=${M??$} mask=${`url(#${n}3)`} />`]:p`<path class=${v(y.graphPath)} d=${u??$} fill=${M??$} />`}</svg>`}};L.properties={colorStops:[0,{},{attribute:!1}],data:[0,{},{attribute:!1}],highlightMax:[9,{},{type:Number}],highlightMin:[9,{},{type:Number}],max:[11,{},{reflect:!0,type:Number}],min:[11,{},{reflect:!0,type:Number}]},L.styles=R;let z=L;B("calcite-graph",z);export{z as Graph};
