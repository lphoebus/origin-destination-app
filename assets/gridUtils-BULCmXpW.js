import{fK as g,eh as h,b7 as y,be as M,dq as x,d8 as G,i7 as W}from"./index-C2z3vZ9k.js";import{y as w,R as d}from"./geodesicUtils-wVS6OfyX.js";const S=50,U=5;function q(t,a){return Math.log(t)/Math.log(a)}function Z(t,a,o){const e=t===1?10:t;return e**(o?Math.round(q(S/a,e)):0)}function j(t){const{isGeographic:a,isWebMercator:o}=t;return!a&&!o}function _(t,a,o){const e=typeof t=="number"?null:t,r=o??(e==null?void 0:e.spatialReference);if(r==null||!g(r)||j(r))return h(r);let s=(e==null?void 0:e.x)??t,c=(e==null?void 0:e.y)??a;const l=1/Math.sqrt(2);let i=s+l,f=c+l;const{isWebMercator:$,isGeographic:b}=r;let u=b&&!w(r)?y.WGS84:r;if($){let n=new M({x:s,y:c,spatialReference:r});x(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:f,spatialReference:r}),x(n,!0,n),i=n.x,f=n.y,u=y.WGS84}const m=new G({paths:[[[s,c],[i,f]]],spatialReference:u}),R=W(m,10);let p;try{[p]=d([R],"meters")}catch{return h(r)}return p}export{Z as l,U as t,_ as u};
