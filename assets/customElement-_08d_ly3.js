import{L as n,c as o,a as r,v as d,O as a,I as h,s as p,n as u,x as m,i as b,b as f}from"./index-C2z3vZ9k.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const g={container:"container"},y=b`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{box-sizing:border-box;display:inline-block}:host ::slotted(calcite-tile){margin-block-end:var(--calcite-spacing-px);margin-inline-end:var(--calcite-spacing-px)}.container{display:grid;grid-auto-rows:minmax(auto,1fr)}:host([scale=s]) .container{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}:host([scale=m]) .container{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}:host([scale=l]) .container{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}:host([layout=vertical]) .container{display:flex;flex-direction:column}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,l=class l extends n{constructor(){super(),this.items=[],this.mutationObserver=o("mutation",()=>this.updateTiles()),this.alignment="start",this.disabled=!1,this.layout="horizontal",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.calciteTileGroupSelect=r({cancelable:!1}),this.listen("calciteInternalTileKeyEvent",this.calciteInternalTileKeyEventListener),this.listen("calciteTileSelect",this.calciteTileSelectHandler)}connectedCallback(){var e;super.connectedCallback(),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.updateTiles()}willUpdate(e){(e.has("scale")&&(this.hasUpdated||this.scale!=="m")||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||e.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon"))&&this.updateTiles()}updated(){d(this)}loaded(){this.updateSelectedItems()}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.mutationObserver)==null||e.disconnect()}getSlottedTiles(){var e;return(e=this.slotEl)==null?void 0:e.assignedElements({flatten:!0}).filter(t=>t==null?void 0:t.matches("calcite-tile"))}selectItem(e){var t;e&&((t=this.items)==null||t.forEach(s=>{const i=e===s;switch(this.selectionMode){case"multiple":i&&(s.selected=!s.selected);break;case"single":s.selected=i&&!s.selected;break;case"single-persist":s.selected=!!i;break}}),this.updateSelectedItems(),this.calciteTileGroupSelect.emit())}setSlotEl(e){this.slotEl=e}updateSelectedItems(){var t,s;const e=(t=this.items)==null?void 0:t.filter(i=>i.selected);(this.selectionMode==="single"||this.selectionMode==="single-persist")&&(e==null?void 0:e.length)>1?(this.selectedItems=[e.pop()],(s=this.items)==null||s.forEach(i=>{this.selectedItems.indexOf(i)===-1&&(i.selected=!1)})):this.selectedItems=e??[]}updateTiles(){var e;this.items=this.getSlottedTiles(),(e=this.items)==null||e.forEach(t=>{t.alignment=this.alignment,t.interactive=!0,t.layout=this.layout,t.scale=this.scale,t.selectionAppearance=this.selectionAppearance,t.selectionMode=this.selectionMode}),this.updateSelectedItems()}calciteInternalTileKeyEventListener(e){var t;if(e.composedPath().includes(this.el)){e.preventDefault(),e.stopPropagation();const s=(t=this.items)==null?void 0:t.filter(i=>!i.disabled);switch(e.detail.key){case"ArrowDown":case"ArrowRight":a(s,e.detail.target,"next");break;case"ArrowUp":case"ArrowLeft":a(s,e.detail.target,"previous");break;case"Home":a(s,e.detail.target,"first");break;case"End":a(s,e.detail.target,"last");break}}}calciteTileSelectHandler(e){e.composedPath().includes(this.el)&&this.selectItem(e.target)}render(){const e=this.selectionMode==="none"||this.selectionMode==="multiple"?"group":"radiogroup";return h({disabled:this.disabled,children:m`<div .ariaLabel=${this.label} class=${p(g.container)} .role=${e}><slot @slotchange=${this.updateTiles} ${u(this.setSlotEl)}></slot></div>`})}};l.properties={alignment:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],label:1,layout:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}],selectedItems:[0,{},{attribute:!1}],selectionAppearance:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}]},l.styles=y;let c=l;f("calcite-tile-group",c);export{c as TileGroup};
