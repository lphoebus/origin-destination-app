import{b8 as l,ba as a,eC as m,aY as x,fb as d,bb as S}from"./index-Bkom2Sdc.js";import{e as I}from"./TileInfoTilemapCache-Dy5Rn1d_.js";import{j as O}from"./TilemapCache-1ta3BBi5.js";const b=f=>{const h=f;let e=class extends h{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(s,t){return t.minLOD!=null&&t.maxLOD!=null?s:0}readMaxScale(s,t){return t.minLOD!=null&&t.maxLOD!=null?s:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(s,t,y){const v=t.capabilities?.includes("Tilemap");let{minLOD:r,maxLOD:n,minScale:c,maxScale:p}=t;if(r==null&&n==null&&(c!==0||p!==0)){const i=o=>Math.round(1e4*o)/1e4;c=i(c||t.tileInfo.lods[0].scale),p=i(p||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(const o of t.tileInfo.lods){const u=i(o.scale);r=u>=c?o.level:r,n=u>=p?o.level:n}}if(v)return new O({layer:this,minLOD:r,maxLOD:n});if(t.tileInfo){const i=new d;return i.read(t.tileInfo,y),new I(i,r,n)}return null}};return l([a({json:{read:{source:"copyrightText"}}})],e.prototype,"copyright",void 0),l([a()],e.prototype,"minScale",void 0),l([m("service","minScale")],e.prototype,"readMinScale",null),l([a()],e.prototype,"maxScale",void 0),l([m("service","maxScale")],e.prototype,"readMaxScale",null),l([a({type:x})],e.prototype,"spatialReference",void 0),l([a({readOnly:!0})],e.prototype,"supportsBlankTile",null),l([a({type:d})],e.prototype,"tileInfo",void 0),l([a()],e.prototype,"tilemapCache",void 0),l([m("service","tilemapCache",["capabilities","tileInfo"])],e.prototype,"readTilemapCache",null),l([a()],e.prototype,"version",void 0),e=l([S("esri.layers.mixins.ArcGISCachedService")],e),e};export{b as p};
