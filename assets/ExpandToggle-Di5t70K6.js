import{g as x,E as T,n as q,x as C}from"./index-C2z3vZ9k.js";import{S as u}from"./resources7-CMDVPKCU.js";import{S as p}from"./resources2-IF-Ysl0u.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const v=t=>Array.from(t.querySelectorAll("calcite-action")).filter(e=>e.closest("calcite-action-menu")?e.slot===p.trigger:!0),k=({actionGroups:t,expanded:e,overflowCount:o})=>{let c=o;t.reverse().forEach(r=>{let i=0;const s=v(r).reverse();s.forEach(n=>{n.slot===u.menuActions&&(n.removeAttribute("slot"),n.textEnabled=e)}),c>0&&s.some(n=>(s.filter(f=>!f.slot).length>1&&s.length>2&&!n.closest("calcite-action-menu")&&(n.textEnabled=!0,n.setAttribute("slot",u.menuActions),i++,i>1&&c--),c<1)),r.manager.component.requestUpdate()})},g={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function y(t,e){var o;return t||((o=e.closest("calcite-shell-panel"))==null?void 0:o.position)||"start"}function w({el:t,expanded:e}){v(t).filter(o=>o.slot!==u.menuActions).forEach(o=>o.textEnabled=e),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=e)}const L=({tooltip:t,referenceElement:e,expanded:o,ref:c})=>(t&&(t.referenceElement=!o&&e?e:null),c&&c(e),e),D=({expanded:t,expandText:e,collapseText:o,expandLabel:c,collapseLabel:r,toggle:i,el:s,position:n,tooltip:a,ref:f,scale:A})=>{const E=x(s)==="rtl",h=t?o:e,S=t?r:c,l=[g.chevronsLeft,g.chevronsRight];E&&l.reverse();const m=y(n,s)==="end",$=m?l[1]:l[0],b=m?l[0]:l[1];return C`<calcite-action .icon=${t?$:b} id=expand-toggle .label=${S} @click=${i} .scale=${A} .text=${h} .textEnabled=${t} title=${(!t&&!a?h:null)??T} ${q(d=>L({tooltip:a,referenceElement:d,expanded:t,ref:f}))}></calcite-action>`};export{D as E,k as o,v as q,w as t};
